{% schema %}
{
	"name": "Press Ticker",
	"settings": [
		{
			"type": "text",
			"id": "title",
			"label": "Title"
		}
	],
	"blocks": [
        {
            "type": "ticker_item",
            "name": "Ticker Item",
            "settings": [
                {
					"type": "image_picker",
					"id": "logo",
					"label": "Logo"
				},
				{
					"type": "url",
					"id": "url",
					"label": "URL"
				},
				{
					"type": "text",
					"id": "cta",
					"label": "CTA"
				}
            ]
        }
    ],
    "presets": [{
		"name": "Press Ticker",
		"category": "Marketing"
	}]
}
{% endschema %}

{% assign ticker_repeat_count = 10 %}

<div class="overflow-hidden mt-6 md:mt-10 mb-2 md:mb-3 flex flex-col gap-2 md:gap-3">
	<div class="px-container-mobile md:px-container-desktop">
		<h2 class="text-center font-sans text-14/14 md:text-18/18 uppercase">
			{{ section.settings.title }}
		</h2>
	</div>

	<div class="table table-fixed ticker-container">
		{% for i in (1..ticker_repeat_count) %}
			<div class="table-cell ticker ticker-extra-slow">
				<div class="table table-fixed">
					{% for block in section.blocks %}
						<div class="table-cell whitespace-nowrap pl-3">
							<div
								data-component="image"
								style="aspect-ratio: {{ block.settings.logo.aspect_ratio }}"
								class="image h-2 md:h-3">
								<picture class="blur-xl scale-110">
									<img
										data-src="{{ block.settings.logo | image_url: height: 60 }}"
										alt="{{ block.settings.logo.alt }}"
									/>
								</picture>
							</div>
						</div>
					{% endfor %}
				</div>
			</div>
		{% endfor %}
	</div>
</div>